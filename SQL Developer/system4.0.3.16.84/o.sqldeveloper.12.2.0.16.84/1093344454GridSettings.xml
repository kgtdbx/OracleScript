<?xml version = '1.0' encoding = 'UTF-8'?>
<TableSettings class="oracle.dbtools.raptor.controls.grid.RaptorGridPersistedSettings" xmlns="http://xmlns.oracle.com/jdeveloper/110000/Table-attributes">
   <columnPositions class="java.util.ArrayList">
      <Item class="java.lang.String">PAYMENTS_LEFT</Item>
      <Item class="java.lang.String">PART_1</Item>
      <Item class="java.lang.String">END_DATE</Item>
      <Item class="java.lang.String">NAESTI_GJALDDAGI</Item>
      <Item class="java.lang.String">DIM_LOAN</Item>
      <Item class="java.lang.String">PAYMENT_INTERVAL</Item>
      <Item class="java.lang.String">ORIGIN_DATE</Item>
      <Item class="java.lang.String">DIMENSION_KEY</Item>
      <Item class="java.lang.String">DIM_CUSTOMER</Item>
      <Item class="java.lang.String">ID</Item>
      <Item class="java.lang.String">NVL(L.CONTRACT_NUMBER,L.ID)</Item>
      <Item class="java.lang.String">FUNDING_GROUP</Item>
      <Item class="java.lang.String">LEGAL_COLLECTION_TYPE</Item>
      <Item class="java.lang.String">PAYMENT_ADJUSTMENT</Item>
   </columnPositions>
   <columnWidths>
      <Item>100</Item>
      <Item>90</Item>
      <Item>71</Item>
      <Item>117</Item>
      <Item>143</Item>
      <Item>119</Item>
      <Item>88</Item>
      <Item>100</Item>
      <Item>99</Item>
      <Item>117</Item>
      <Item>180</Item>
      <Item>105</Item>
      <Item>148</Item>
      <Item>136</Item>
   </columnWidths>
   <searchParams class="java.util.ArrayList"/>
   <sortClauses>
      <Item/>
   </sortClauses>
   <uniqueName>IdeConnections%23vhgstbclone_kvasirselect round(months_between(l.end_date,nvl(add_months(naestu_gjalddagar.naesti_gjalddagi,-1*nvl(l.payment_interval,0)),l.origin_date))) as payments_left, 
	add_months(naestu_gjalddagar.naesti_gjalddagi,-1*nvl(l.payment_interval,0)) as part_1, 
	
	
	l.end_date, 
	naestu_gjalddagar.naesti_gjalddagi, 
	naestu_gjalddagar.dim_loan, 
	l.payment_interval, 
	l.origin_date, 
	l.dimension_key,
	f.dim_customer, 
	l.id, 
	nvl(l.contract_number,l.id), 
	l.funding_group, 
	l.legal_collection_type, 
	l.payment_adjustment   
from valholl.fct_loan_balance f 
   left join valholl.dim_product_a_v pr on pr.dimension_key=f.dim_product 
   left join 
   ( select cf.the_date,dim_loan,min(t.the_date) naesti_gjalddagi 
        from valholl.fct_loan_cashflow cf join valholl.dim_time t on cf.dim_time_transaction=t.dimension_key 
        where 
        cf.the_date=date'2018-01-31' 
        and cf.active='Y' 
        and t.the_date > date'2018-01-31' 
	 
        group by cf.the_date,cf.dim_loan 
   ) naestu_gjalddagar on f.dim_loan=naestu_gjalddagar.dim_loan and f.the_date=naestu_gjalddagar.the_date 
left join valholl.dim_loan l on f.dim_loan=l.dimension_key    
where f.the_date = date'2018-01-31'</uniqueName>
</TableSettings>
